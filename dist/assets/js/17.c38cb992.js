(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{414:function(e,t,n){var i=n(4),o=n(34),r=n(16),a=/"/g,s=i("".replace);e.exports=function(e,t,n,i){var c=r(o(e)),l="<"+t;return""!==n&&(l+=" "+n+'="'+s(r(i),a,"&quot;")+'"'),l+">"+c+"</"+t+">"}},415:function(e,t,n){var i=n(3);e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},418:function(e,t,n){"use strict";var i=n(12),o=(n(419),n(111),n(108));t.a={props:{},computed:{},methods:{actionHandles:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(n.actionType){case"dialogPage":"el-drawer"==(e=n.dialog).container&&(e.properties=Object(i.a)({size:e.properties.width,direction:"rtl"},e.properties)),this.dialogPageHandle(n,o);break;case"dialogForm":"el-drawer"==(e=n.dialog).container&&(e.properties=Object(i.a)({size:e.properties.width,direction:"rtl"},e.properties)),this.dialogFormHandle(n,o);break;case"requestApi":this.requestApiHandle(n,o);break;case"submit":var r=this.$refs.DynamicFormContent||this.$parent.$refs.DynamicFormContent;r?r.validate((function(e,i){console.log("---submit---",i),e&&t.requestApiHandle(n,i)})):console.warn("submit 动作 在组件中没有定义对应的 DynamicFormContent 表单 ref,");break;case"reset":var a=this.$refs.DynamicFormContent||this.$parent.$refs.DynamicFormContent;a?a.resetFields():console.warn("submit 动作 在组件中没有定义对应的 DynamicFormContent 表单 ref,");break;case"close":this.closeModalHandle(n);break;case"link":this.linkHandle(n);break;case"router":this.routerHandle(n);break;default:this.customActionHandle(n,o)}},requestApiHandle:function(e,t){var n=this,i="function"==typeof e.dataAdapter?e.dataAdapter:function(e){return e};e.apiPromise(t).then(i).then((function(t){if(e.callback instanceof Object)for(var i in e.callback)"function"==typeof n[i+"Handle"]&&n[i+"Handle"](e.callback[i],t)}))},closeModalHandle:function(e){this.closeModal(this)},closeModal:function(e){if(e.visible)return e.visible instanceof Object?void(e.visible.value=!1):void(e.visible=!1);"function"!=typeof e.close?e.closeModal(this.$parent):e.close()},refreshHandle:function(e){"function"!=typeof e?!0===e&&("function"==typeof this.refresh?this.refresh():this.$dynamicBus.$emit("dynamicRefresh")):e()},emitEventHandle:function(e,t){"string"==typeof e&&this.$emit(e,t)},showTipHandle:function(e,t){!0===e&&this.$message&&this.$message({type:"success",message:t.msg||t.message||"操作成功"})},linkHandle:function(e){window.open(e.link,e.window)},routerHandle:function(e){(this.$router[e.routerAction]||this.$router.push)(e.router)},customActionHandle:function(e,t){"function"!=typeof e.actionHandle?console.warn("定义了未被识别的动作"+JSON.stringify(e)):e.actionHandle(t)},dialogPageHandle:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof e.dataAdapter?e.dataAdapter:function(e){return e||{}};if(e.apiPromise)e.apiPromise(n).then(o).then((function(n){t.setCurrentDialogContent(e,n,i)}));else{var r=o(n);this.setCurrentDialogContent(e,r,i)}},dialogFormHandle:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof e.dataAdapter?e.dataAdapter:function(e){return e||{}};if(e.apiPromise)e.apiPromise(n).then(o).then((function(n){t.setCurrentDialogForm(e,n,i)}));else{var r=o(n);this.setCurrentDialogForm(e,r,i)}},setCurrentDialogForm:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.currentDialogForm=Object(i.a)(Object(i.a)({container:"el-dialog"},Object(o.f)(e.dialog)),n),this.currentDialogForm.body.data=t,this.$globalDialogForm(this.currentDialogForm,this.actionBarWraper)},setCurrentDialogContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.currentDialogContent=Object(i.a)(Object(i.a)({container:"el-dialog"},Object(o.f)(e.dialog)),n),this.currentDialogContent.data=t,this.$globalDialogPage(this.currentDialogContent,this.actionBarWraper)}}}},419:function(e,t,n){"use strict";var i=n(2),o=n(414);i({target:"String",proto:!0,forced:n(415)("link")},{link:function(e){return o(this,"a","href",e)}})},579:function(e,t,n){},636:function(e,t,n){"use strict";n(579)},741:function(e,t,n){"use strict";n.r(t);var i=n(12),o=n(57),r=(n(232),n(78),n(235),n(247),n(418)),a=n(108),s={name:"DynamicActions",mixins:[r.a],props:{actions:{type:[Object,Array],default:function(){return{}}},actionData:{type:[Object,Array,String,Boolean,Number],default:function(){return{}}},actionBarWraper:{type:[HTMLElement,Object]}},computed:{actionsOrderByKey:function(){var e=Object.entries(this.actions).map((function(e,t){var n=Object(o.a)(e,2),r=n[0],a=n[1];return Object(i.a)(Object(i.a)({},a),{},{actionKey:r})}));return e.sort((function(e,t){return e.sort-t.sort})),e}},methods:{actionHandle:function(e){var t=this.actionData;!1!==e.isloadData&&Object(a.l)(t)?this.$message({type:"warning",message:"您没有选择任何数据"}):(!1===e.isloadData&&(t=null),this.actionHandles(e,t))}}},c=(n(636),n(33)),l=Object(c.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:" "},[e._l(e.actionsOrderByKey,(function(t,i){return[t.popconfirm?n("el-popconfirm",e._b({key:i,staticClass:"ml6",on:{confirm:function(n){return e.actionHandle(t)}}},"el-popconfirm",t.popconfirm,!1),[n(t.component,e._b({directives:[{name:"permission",rawName:"v-permission",value:t.permission,expression:"item.permission"}],tag:"component",attrs:{slot:"reference"},domProps:{textContent:e._s(t.label)},slot:"reference"},"component",t.properties,!1))],1):n(t.component,e._b({directives:[{name:"permission",rawName:"v-permission",value:t.permission,expression:"item.permission"}],key:i,tag:"component",staticClass:"ml6",domProps:{textContent:e._s(t.label)},on:{click:function(n){return e.actionHandle(t)}}},"component",t.properties,!1))]}))],2)}),[],!1,null,"01cb1f53",null);t.default=l.exports}}]);