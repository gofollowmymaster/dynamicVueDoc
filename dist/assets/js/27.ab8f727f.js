(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{414:function(t,e,n){var i=n(4),o=n(34),a=n(16),r=/"/g,s=i("".replace);t.exports=function(t,e,n,i){var l=a(o(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+s(a(i),r,"&quot;")+'"'),c+">"+l+"</"+e+">"}},415:function(t,e,n){var i=n(3);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},418:function(t,e,n){"use strict";var i=n(14),o=(n(419),n(111),n(44));e.a={props:{},computed:{},methods:{actionHandles:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(n.actionType){case"dialogPage":"el-drawer"==(t=n.dialog).container&&(t.properties=Object(i.a)({size:t.properties.width,direction:"rtl"},t.properties)),this.dialogPageHandle(n,o);break;case"dialogForm":"el-drawer"==(t=n.dialog).container&&(t.properties=Object(i.a)({size:t.properties.width,direction:"rtl"},t.properties)),this.dialogFormHandle(n,o);break;case"requestApi":this.requestApiHandle(n,o);break;case"submit":var a=this.$refs.DynamicFormContent||this.$parent.$refs.DynamicFormContent;a?a.validate((function(t,i){console.log("---submit---",i),t&&e.requestApiHandle(n,i)})):console.warn("submit 动作 在组件中没有定义对应的 DynamicFormContent 表单 ref,");break;case"reset":var r=this.$refs.DynamicFormContent||this.$parent.$refs.DynamicFormContent;r?r.resetFields():console.warn("submit 动作 在组件中没有定义对应的 DynamicFormContent 表单 ref,");break;case"close":this.closeModalHandle(n);break;case"link":this.linkHandle(n);break;case"router":this.routerHandle(n);break;default:this.customActionHandle(n,o)}},requestApiHandle:function(t,e){var n=this,i="function"==typeof t.dataAdapter?t.dataAdapter:function(t){return t};t.apiPromise(e).then(i).then((function(e){if(t.callback instanceof Object)for(var i in t.callback)"function"==typeof n[i+"Handle"]&&n[i+"Handle"](t.callback[i],e)}))},closeModalHandle:function(t){this.closeModal(this)},closeModal:function(t){if(t.visible)return t.visible instanceof Object?void(t.visible.value=!1):void(t.visible=!1);"function"!=typeof t.close?t.closeModal(this.$parent):t.close()},refreshHandle:function(t){"function"!=typeof t?!0===t&&("function"==typeof this.refresh?this.refresh():this.$dynamicBus.$emit("dynamicRefresh")):t()},emitEventHandle:function(t,e){"string"==typeof t&&this.$emit(t,e)},showTipHandle:function(t,e){!0===t&&this.$message&&this.$message({type:"success",message:e.msg||e.message||"操作成功"})},linkHandle:function(t){window.open(t.link,t.window)},routerHandle:function(t){(this.$router[t.routerAction]||this.$router.push)(t.router)},customActionHandle:function(t,e){"function"!=typeof t.actionHandle?console.warn("定义了未被识别的动作"+JSON.stringify(t)):t.actionHandle(e)},dialogPageHandle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof t.dataAdapter?t.dataAdapter:function(t){return t||{}};if(t.apiPromise)t.apiPromise(n).then(o).then((function(n){e.setCurrentDialogContent(t,n,i)}));else{var a=o(n);this.setCurrentDialogContent(t,a,i)}},dialogFormHandle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof t.dataAdapter?t.dataAdapter:function(t){return t||{}};if(t.apiPromise)t.apiPromise(n).then(o).then((function(n){e.setCurrentDialogForm(t,n,i)}));else{var a=o(n);this.setCurrentDialogForm(t,a,i)}},setCurrentDialogForm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.currentDialogForm=Object(i.a)(Object(i.a)({container:"el-dialog"},Object(o.g)(t.dialog)),n),this.currentDialogForm.body.data=e,this.$globalDialogForm(this.currentDialogForm,this.actionBarWraper)},setCurrentDialogContent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.currentDialogContent=Object(i.a)(Object(i.a)({container:"el-dialog"},Object(o.g)(t.dialog)),n),this.currentDialogContent.data=e,this.$globalDialogPage(this.currentDialogContent,this.actionBarWraper)}}}},419:function(t,e,n){"use strict";var i=n(2),o=n(414);i({target:"String",proto:!0,forced:n(415)("link")},{link:function(t){return o(this,"a","href",t)}})},699:function(t,e,n){"use strict";n.r(e);var i={name:"DynamicFormDialog",mixins:[n(418).a],props:{visible:{type:Object,default:function(){return{value:!1}}},container:{type:String,default:"el-dialog"},body:{type:Object,default:function(){return{}}},properties:{type:Object,default:function(){return{}}}},computed:{},mounted:function(){console.log(this)},components:{},methods:{reset:function(){this.$refs.DynamicFormContent.resetFields()},actionHandle:function(t){this.actionHandles(t)},formDataUpdateHandle:function(t,e){this.body.formDataUpdateHandle&&this.body.formDataUpdateHandle(t,e)},closeModal:function(){this.visible.value=!1}}},o=n(33),a=Object(o.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.container,t._b({tag:"component",attrs:{visible:t.visible.value,"custom-class":"hz-low-code","append-to-body":!0},on:{"update:visible":function(e){return t.$set(t.visible,"value",e)}}},"component",t.properties,!1),[t.visible.value?n("section",[n("DynamicFormContent",t._b({ref:"DynamicFormContent",attrs:{data:t.body.data,formItemList:t.body.formItemList},on:{formDataUpdated:t.formDataUpdateHandle}},"DynamicFormContent",t.body.props,!1)),t._v(" "),n("section",{staticClass:"flex mt12 p12",class:{"align-right":"dialog"==t.container}},t._l(t.body.actions,(function(e){return n("el-button",t._b({directives:[{name:"permission",rawName:"v-permission",value:e.permission,expression:"action.permission"}],key:e.label,on:{click:function(n){return t.actionHandle(e)}}},"el-button",e.properties,!1),[t._v("\n        "+t._s(e.label)+"\n      ")])})),1)],1):t._e()])}),[],!1,null,"ec40165c",null);e.default=a.exports}}]);