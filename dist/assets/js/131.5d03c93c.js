(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{1046:function(n,s,a){"use strict";a.r(s);var e=a(36),t=Object(e.a)({},(function(){var n=this,s=n.$createElement,a=n._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"动态表格"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态表格"}},[n._v("#")]),n._v(" 动态表格")]),n._v(" "),a("ol",[a("li",[n._v("简介\n"),a("ul",[a("li",[n._v("通过JSON配置生成表单")]),n._v(" "),a("li")])]),n._v(" "),a("li",[n._v("全局功能\n"),a("ul",[a("li",[n._v("通过 json 数据来生成表单；")]),n._v(" "),a("li",[n._v("通过 data 数据给表单每个元素赋值；")]),n._v(" "),a("li",[n._v("支持表单校验；")]),n._v(" "),a("li",[n._v("表单支持分块显示；")]),n._v(" "),a("li",[n._v("支持单区块收起、展开；\n")]),n._v(" "),a("li",[n._v("支持表单元素全局禁用（例如提交时）；")]),n._v(" "),a("li",[n._v("支持给表单加一个外框，增加区分度；")]),n._v(" "),a("li",[n._v("支持将表单模式切换为纯文本显示模式；")]),n._v(" "),a("li",[n._v("支持设置表单为一行四列/两列/一列；")]),n._v(" "),a("li",[n._v("二次开发自定义表单元素难度极低；")]),n._v(" "),a("li",[n._v("自动测试（批量填充数据）\n3.表单元素功能")]),n._v(" "),a("li",[n._v("文本输入框 FormInput")]),n._v(" "),a("li",[n._v("金额文本输入框 FormMoneyInput")]),n._v(" "),a("li",[n._v("文本域输入框  FormTextarea")]),n._v(" "),a("li",[n._v("普通下拉框 FormSelect")]),n._v(" "),a("li",[n._v("普通多选下拉框  FormMulSelect")]),n._v(" "),a("li",[n._v("日期输入框   FormDate")]),n._v(" "),a("li",[n._v("日期范围输入框 FormDateRange")]),n._v(" "),a("li",[n._v("日期时间输入框  FormDateTime")]),n._v(" "),a("li",[n._v("普通数字输入框  FormIntNumber")]),n._v(" "),a("li",[n._v("数字输入框  FormDecimalNumber（自动千分位，支持整数限制、非负数限制、小数点后自动补零、前方添加特殊符号（比如￥），后方添加特殊符号）")]),n._v(" "),a("li",[n._v("单选框    FormRadio")]),n._v(" "),a("li",[n._v("地图选点  FormSelectPoint")]),n._v(" "),a("li",[n._v("地图划区  FormDrawElement")]),n._v(" "),a("li",[n._v("字典下拉多选框  FormDynamicNulSelect    (todo)")]),n._v(" "),a("li",[n._v("多选框  FormCheckbox    (todo)")]),n._v(" "),a("li",[n._v("输入搜索下拉框   (todo)")])])])]),n._v(" "),a("p",[n._v("4.声明配置解读")]),n._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('[{\n    key: "name",                  //*字段名   \n    type: "FormInput",            //*表单组件类型（表单项组件名）\n    label: "公园名称",            //*表单项label\n    formSection: "基础信息",      //表单项分组名  只有一个分组不会展示\n    formOption: {                 //可选 表单配置详细\n    \n      wraperProperties:{    //会传入elment 表单组件FormItem的参数props\n        style: {},\n        class: [],\n      },\n      \n      rules: [                  //表单验证验证规则\n       \'required\'  ,\'email\'    //系统预置规则包括    required email url integer\n       /^[1-9]\\d{5}(?!\\d)$/     //正则表单式验证\n       {                        //自定义规则\n            message: \'请输入***\',\n            trigger: \'blur\',\n            required: true\n       }\n      ],\n     \n      properties: {    //会传入elment 表单组件本身  支持表达式语法\n        disabled: \'${natureDictId}==1\',\n        readOnly: \'${natureDictId}==3\',\n        required:\'${natureDictId}==2\',\n        clearable:true\n      },\n    },\n  },\n  {\n    key: "natureDictId",\n    type: "FormSelect",\n    label: \'多选框\',\n    options: [          //select radio 相关组件有必填options信息\n      {\n        value: "1",\n        label: "选我会给输入框赋值】",\n      },\n      {\n        value: "2",\n        label: "选我会隐藏输入框",\n      },\n    ],\n    formOption: {\n   \n        valueLink: {    // 实现事件式数据联动\n          "1": [        //当前natureDictId 为1时 的联动\n              {\n                linkKey: "name",       当前natureDictId 为1时 对name字段的操作\n                linkValue: function (value) {    //设置name 字段值\n                  return value+1\n                },\n                linkRequired: false,              //设置name 字段非必填\n                linkDisable: true,                // 设置name 字段 不可用\n                linkHidden: true,                 //设置name 字段 隐藏\n              },\n            ],\n          \'@*any*@\':[           当前natureDictId 为任何值 对name字段的操作\n            {\n              linkKey: "address",\n              linkValue: function (data) {\n                return data.formattedAddress\n              },\n            },\n          ],\n        },\n        properties:{\n          onFocus(data){\n          }\n        },\n        event:{\n            onFocus: function remarkOnFocus({event,option,value}) {\n              console.log("----onfocus----",option,value);\n            },\n            onblur:function remarkonblur({event,option,value}) {\n              console.log("----onblur----",option,value);\n            }\n        }\n    },\n  },]\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br"),a("span",{staticClass:"line-number"},[n._v("36")]),a("br"),a("span",{staticClass:"line-number"},[n._v("37")]),a("br"),a("span",{staticClass:"line-number"},[n._v("38")]),a("br"),a("span",{staticClass:"line-number"},[n._v("39")]),a("br"),a("span",{staticClass:"line-number"},[n._v("40")]),a("br"),a("span",{staticClass:"line-number"},[n._v("41")]),a("br"),a("span",{staticClass:"line-number"},[n._v("42")]),a("br"),a("span",{staticClass:"line-number"},[n._v("43")]),a("br"),a("span",{staticClass:"line-number"},[n._v("44")]),a("br"),a("span",{staticClass:"line-number"},[n._v("45")]),a("br"),a("span",{staticClass:"line-number"},[n._v("46")]),a("br"),a("span",{staticClass:"line-number"},[n._v("47")]),a("br"),a("span",{staticClass:"line-number"},[n._v("48")]),a("br"),a("span",{staticClass:"line-number"},[n._v("49")]),a("br"),a("span",{staticClass:"line-number"},[n._v("50")]),a("br"),a("span",{staticClass:"line-number"},[n._v("51")]),a("br"),a("span",{staticClass:"line-number"},[n._v("52")]),a("br"),a("span",{staticClass:"line-number"},[n._v("53")]),a("br"),a("span",{staticClass:"line-number"},[n._v("54")]),a("br"),a("span",{staticClass:"line-number"},[n._v("55")]),a("br"),a("span",{staticClass:"line-number"},[n._v("56")]),a("br"),a("span",{staticClass:"line-number"},[n._v("57")]),a("br"),a("span",{staticClass:"line-number"},[n._v("58")]),a("br"),a("span",{staticClass:"line-number"},[n._v("59")]),a("br"),a("span",{staticClass:"line-number"},[n._v("60")]),a("br"),a("span",{staticClass:"line-number"},[n._v("61")]),a("br"),a("span",{staticClass:"line-number"},[n._v("62")]),a("br"),a("span",{staticClass:"line-number"},[n._v("63")]),a("br"),a("span",{staticClass:"line-number"},[n._v("64")]),a("br"),a("span",{staticClass:"line-number"},[n._v("65")]),a("br"),a("span",{staticClass:"line-number"},[n._v("66")]),a("br"),a("span",{staticClass:"line-number"},[n._v("67")]),a("br"),a("span",{staticClass:"line-number"},[n._v("68")]),a("br"),a("span",{staticClass:"line-number"},[n._v("69")]),a("br"),a("span",{staticClass:"line-number"},[n._v("70")]),a("br"),a("span",{staticClass:"line-number"},[n._v("71")]),a("br"),a("span",{staticClass:"line-number"},[n._v("72")]),a("br"),a("span",{staticClass:"line-number"},[n._v("73")]),a("br"),a("span",{staticClass:"line-number"},[n._v("74")]),a("br"),a("span",{staticClass:"line-number"},[n._v("75")]),a("br"),a("span",{staticClass:"line-number"},[n._v("76")]),a("br"),a("span",{staticClass:"line-number"},[n._v("77")]),a("br"),a("span",{staticClass:"line-number"},[n._v("78")]),a("br"),a("span",{staticClass:"line-number"},[n._v("79")]),a("br"),a("span",{staticClass:"line-number"},[n._v("80")]),a("br"),a("span",{staticClass:"line-number"},[n._v("81")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('{\n  title: "更新表单",\n  width: "60%",\n  body: { \n      formDataUpdateHandle:(formVm,param)=>{\n          //操作表單組件   formVm 表單組件  param 字段更新信息\n      },\n        props: {\n          formProperties: {\n            "hide-required-asterisk": false,\n            "label-width": "100px",\n            "label-position": "top",\n          },\n          borderForm: true,\n          showFoldBtn: true,\n          showTestTool: true,\n        },\n    formItemList: formFields,\n    data: {},\n    btns: [\n      {\n        actionType: "submit",\n        label: "更改",\n        apiPromise: parkUpdateApi,\n        properties: {\n          type: "primary",\n        },\n      },\n      {\n        actionType: "close",\n        label: "取消",\n      },\n    ],\n  },\n}\n')])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br"),a("span",{staticClass:"line-number"},[n._v("7")]),a("br"),a("span",{staticClass:"line-number"},[n._v("8")]),a("br"),a("span",{staticClass:"line-number"},[n._v("9")]),a("br"),a("span",{staticClass:"line-number"},[n._v("10")]),a("br"),a("span",{staticClass:"line-number"},[n._v("11")]),a("br"),a("span",{staticClass:"line-number"},[n._v("12")]),a("br"),a("span",{staticClass:"line-number"},[n._v("13")]),a("br"),a("span",{staticClass:"line-number"},[n._v("14")]),a("br"),a("span",{staticClass:"line-number"},[n._v("15")]),a("br"),a("span",{staticClass:"line-number"},[n._v("16")]),a("br"),a("span",{staticClass:"line-number"},[n._v("17")]),a("br"),a("span",{staticClass:"line-number"},[n._v("18")]),a("br"),a("span",{staticClass:"line-number"},[n._v("19")]),a("br"),a("span",{staticClass:"line-number"},[n._v("20")]),a("br"),a("span",{staticClass:"line-number"},[n._v("21")]),a("br"),a("span",{staticClass:"line-number"},[n._v("22")]),a("br"),a("span",{staticClass:"line-number"},[n._v("23")]),a("br"),a("span",{staticClass:"line-number"},[n._v("24")]),a("br"),a("span",{staticClass:"line-number"},[n._v("25")]),a("br"),a("span",{staticClass:"line-number"},[n._v("26")]),a("br"),a("span",{staticClass:"line-number"},[n._v("27")]),a("br"),a("span",{staticClass:"line-number"},[n._v("28")]),a("br"),a("span",{staticClass:"line-number"},[n._v("29")]),a("br"),a("span",{staticClass:"line-number"},[n._v("30")]),a("br"),a("span",{staticClass:"line-number"},[n._v("31")]),a("br"),a("span",{staticClass:"line-number"},[n._v("32")]),a("br"),a("span",{staticClass:"line-number"},[n._v("33")]),a("br"),a("span",{staticClass:"line-number"},[n._v("34")]),a("br"),a("span",{staticClass:"line-number"},[n._v("35")]),a("br")])]),a("p",[n._v("数据交互的两种方式: 模板语法 vs valueLink\n模板语法为数据驱动(计算属性)   valueLink(变动后hook)\n两者可以同时生效    但valueLink同时对该条数据配置值和其他状态时  会有问题")]),n._v(" "),a("p",[n._v("表单组件数据更新   1.用updateFormData    2.表单组件v-model   围栏方便调试,强制建议不要直接修改")]),n._v(" "),a("p",[n._v("一份json配置演化三表单\n一般来说，表单分为三态：【新增（无初始数据）】、【编辑（有初始数据）】、【详情（有初始数据但纯文本显示）】")]),n._v(" "),a("p",[a("a",{attrs:{href:"https://cn.bluehost.com/blog/wordpress/7397.html",target:"_blank",rel:"noopener noreferrer"}},[n._v("Akismet插件介绍"),a("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=t.exports}}]);