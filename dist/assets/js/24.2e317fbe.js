(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{414:function(t,e,n){var i=n(4),o=n(34),a=n(16),r=/"/g,s=i("".replace);t.exports=function(t,e,n,i){var c=a(o(t)),l="<"+e;return""!==n&&(l+=" "+n+'="'+s(a(i),r,"&quot;")+'"'),l+">"+c+"</"+e+">"}},415:function(t,e,n){var i=n(3);t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},418:function(t,e,n){"use strict";var i=n(12),o=(n(419),n(111),n(108));e.a={props:{},computed:{},methods:{actionHandles:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(n.actionType){case"dialogPage":"el-drawer"==(t=n.dialog).container&&(t.properties=Object(i.a)({size:t.properties.width,direction:"rtl"},t.properties)),this.dialogPageHandle(n,o);break;case"dialogForm":"el-drawer"==(t=n.dialog).container&&(t.properties=Object(i.a)({size:t.properties.width,direction:"rtl"},t.properties)),this.dialogFormHandle(n,o);break;case"requestApi":this.requestApiHandle(n,o);break;case"submit":var a=this.$refs.DynamicFormContent||this.$parent.$refs.DynamicFormContent;a?a.validate((function(t,i){console.log("---submit---",i),t&&e.requestApiHandle(n,i)})):console.warn("submit 动作 在组件中没有定义对应的 DynamicFormContent 表单 ref,");break;case"reset":var r=this.$refs.DynamicFormContent||this.$parent.$refs.DynamicFormContent;r?r.resetFields():console.warn("submit 动作 在组件中没有定义对应的 DynamicFormContent 表单 ref,");break;case"close":this.closeModalHandle(n);break;case"link":this.linkHandle(n);break;case"router":this.routerHandle(n);break;default:this.customActionHandle(n,o)}},requestApiHandle:function(t,e){var n=this,i="function"==typeof t.dataAdapter?t.dataAdapter:function(t){return t};t.apiPromise(e).then(i).then((function(e){if(t.callback instanceof Object)for(var i in t.callback)"function"==typeof n[i+"Handle"]&&n[i+"Handle"](t.callback[i],e)}))},closeModalHandle:function(t){this.closeModal(this)},closeModal:function(t){if(t.visible)return t.visible instanceof Object?void(t.visible.value=!1):void(t.visible=!1);"function"!=typeof t.close?t.closeModal(this.$parent):t.close()},refreshHandle:function(t){"function"!=typeof t?!0===t&&("function"==typeof this.refresh?this.refresh():this.$dynamicBus.$emit("dynamicRefresh")):t()},emitEventHandle:function(t,e){"string"==typeof t&&this.$emit(t,e)},showTipHandle:function(t,e){!0===t&&this.$message&&this.$message({type:"success",message:e.msg||e.message||"操作成功"})},linkHandle:function(t){window.open(t.link,t.window)},routerHandle:function(t){(this.$router[t.routerAction]||this.$router.push)(t.router)},customActionHandle:function(t,e){"function"!=typeof t.actionHandle?console.warn("定义了未被识别的动作"+JSON.stringify(t)):t.actionHandle(e)},dialogPageHandle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof t.dataAdapter?t.dataAdapter:function(t){return t||{}};if(t.apiPromise)t.apiPromise(n).then(o).then((function(n){e.setCurrentDialogContent(t,n,i)}));else{var a=o(n);this.setCurrentDialogContent(t,a,i)}},dialogFormHandle:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="function"==typeof t.dataAdapter?t.dataAdapter:function(t){return t||{}};if(t.apiPromise)t.apiPromise(n).then(o).then((function(n){e.setCurrentDialogForm(t,n,i)}));else{var a=o(n);this.setCurrentDialogForm(t,a,i)}},setCurrentDialogForm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.currentDialogForm=Object(i.a)(Object(i.a)({container:"el-dialog"},Object(o.f)(t.dialog)),n),this.currentDialogForm.body.data=e,this.$globalDialogForm(this.currentDialogForm,this.actionBarWraper)},setCurrentDialogContent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.currentDialogContent=Object(i.a)(Object(i.a)({container:"el-dialog"},Object(o.f)(t.dialog)),n),this.currentDialogContent.data=e,this.$globalDialogPage(this.currentDialogContent,this.actionBarWraper)}}}},419:function(t,e,n){"use strict";var i=n(2),o=n(414);i({target:"String",proto:!0,forced:n(415)("link")},{link:function(t){return o(this,"a","href",t)}})},743:function(t,e,n){"use strict";n.r(e);n(8);var i={name:"DynamicForm",mixins:[n(418).a],data:function(){return{formData:{}}},props:{formOption:{type:Object,default:function(){return{}}},formItemList:{type:Array,default:function(){return[]}},actions:{type:Object,default:function(){return{}}},apiPromise:{type:Function,default:function(){return Promise.resolve()}},data:{type:Object,default:function(){return{}}}},computed:{},watch:{apiPromise:{handler:function(t){var e=this;t instanceof Function&&t(this.data).then((function(t){e.formData=t}))},deep:!0,immediate:!0}},mounted:function(){this.formData=this.data},components:{},methods:{reset:function(){this.$refs.DynamicFormContent.resetFields()},actionHandle:function(t){this.actionHandles(t)},formDataUpdated:function(t,e){}}},o=n(33),a=Object(o.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"dynamic-form-wraper "},[e("DynamicFormContent",this._b({ref:"DynamicFormContent",attrs:{data:this.formData,formItemList:this.formItemList},on:{formDataUpdated:this.formDataUpdated}},"DynamicFormContent",this.formOption,!1)),this._v(" "),e("DynamicActions",{attrs:{actions:this.actions,actionData:{}}})],1)}),[],!1,null,"1b60d29c",null);e.default=a.exports}}]);