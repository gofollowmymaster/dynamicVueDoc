(window.webpackJsonp=window.webpackJsonp||[]).push([[8,3,10,17,18,23],{388:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(129);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},390:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(130),n(72),n(38),n(9),n(392),n(127),n(128),n(218),n(393),n(129);var r=n(388);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},392:function(e,t,n){var r=n(2),i=n(3),o=n(20),a=n(32).f,s=n(10),l=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},393:function(e,t,n){var r=n(2),i=n(10),o=n(133).f;r({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!i},{defineProperties:o})},536:function(e,t,n){},542:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(131),core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_is_array_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(216),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(217),core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_index_of_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(219),core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_starts_with_js__WEBPACK_IMPORTED_MODULE_4__),_fields_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(549),_vuePlugins_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(544),mockjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(546),mockjs__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(mockjs__WEBPACK_IMPORTED_MODULE_7__),dyvue2__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(47),dyvue2__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(dyvue2__WEBPACK_IMPORTED_MODULE_8__),entityLabel="实体";function oldtreeUpdateApi(e){return Promise.resolve({})}function oldtreeSaveApi(e){return Promise.resolve({})}function oldtreeDeleteApi(e){return e=Array.isArray(e)?e.join(","):e,Promise.resolve({})}function oldtreeDetailApi(e){return Promise.resolve(mockjs__WEBPACK_IMPORTED_MODULE_7___default.a.mock(Object(_vuePlugins_utils__WEBPACK_IMPORTED_MODULE_6__.mockDyFields)(Object(dyvue2__WEBPACK_IMPORTED_MODULE_8__.buildFormFields)(_fields_js__WEBPACK_IMPORTED_MODULE_5__.a))))}function buildDynamicSelectOption(){return{}}__webpack_exports__.a={name:"pagePreview",components:{},data:function(){var e=this;return{fields:_fields_js__WEBPACK_IMPORTED_MODULE_5__.a,entityLabel:entityLabel,apiPromises:{create:oldtreeSaveApi,bulkdelete:oldtreeDeleteApi,list:function(t){return Promise.resolve(mockjs__WEBPACK_IMPORTED_MODULE_7___default.a.mock({"list|10":[Object(_vuePlugins_utils__WEBPACK_IMPORTED_MODULE_6__.mockDyFields)(e.fields)],totalCount:20}))},update:oldtreeUpdateApi},pageOptions:{listOption:{lineActions:{detail:null,aview:{actionType:"dialogPageActionOption",sort:1,label:"查看",permission:"查看",containerProperties:{title:"查看"+entityLabel},layout:{name:"LayoutTabs",properties:{type:"card"}},body:[this.$appendToPreset("dynamicFormOption",{label:"基本信息",props:{apiPromise:oldtreeDetailApi,formOption:{formItemList:this.$buildFormFields(this.fields),borderForm:!1,formProperties:{"label-position":"left"}}}}),this.$appendToPreset("dynamicFormOption",{label:"管理信息",props:{apiPromise:oldtreeDetailApi,formOption:{formItemList:this.$buildFormFields(this.fields),borderForm:!1,formProperties:{"label-position":"right"}}}}),{component:"div",name:"@object@",label:"信息详情3",children:[{component:"DyTmpl",props:{tmpl:"test"}}]}]}}}},component:""}},created:function(){var e=this;window.addEventListener("message",(function(t,n){if(t.origin.indexOf(location.hostname)>-1&&"jsEditor"==t.data.origin){var r=e.parseObject(t.data.content);if(!r)return;"fields"==t.data.type&&(e.fields=r),"page"==t.data.type&&(e.pageOptions=Object(dyvue2__WEBPACK_IMPORTED_MODULE_8__.deepMerge)(e.pageOptions,r)),e.$forceUpdate()}}))},mounted:function(){},methods:{parseObjByEval:function parseObjByEval(obj){return eval(obj)},parseObjectByJson:function(e){return JSON.parse(e,(function(e,t){return"string"==typeof t&&t.startsWith("function")?window.eval("("+t+")"):t}))},parseObject:function parseObject(obj){var res;try{res=JSON.parse(obj,(function(e,t){return"string"==typeof t&&t.startsWith("function")?window.eval("("+t+")"):t}))}catch(er){try{res=eval(obj)}catch(e){console.error(e)}}return res}}}},544:function(e,t,n){"use strict";n.r(t),n.d(t,"treeToMap",(function(){return l})),n.d(t,"treeToLineMap",(function(){return c})),n.d(t,"arrayToObject",(function(){return u})),n.d(t,"getFormatDateByLong",(function(){return _})),n.d(t,"deepCloneJson",(function(){return d})),n.d(t,"objFlat",(function(){return f})),n.d(t,"isNullOrUndefined",(function(){return p})),n.d(t,"isNumber",(function(){return m})),n.d(t,"downFile",(function(){return j})),n.d(t,"treeToLinearArray",(function(){return b})),n.d(t,"treeToLinearArrayGenerator",(function(){return h})),n.d(t,"hasValue",(function(){return g})),n.d(t,"pureType",(function(){return v})),n.d(t,"mockDyFields",(function(){return O})),n.d(t,"apiListMock",(function(){return E}));var r=n(388),i=n(562),o=n(390),a=(n(101),n(221),n(9),n(127),n(128),n(31),n(132),n(99),n(537),n(539),n(540),n(396),n(545),n(400),n(134),n(19),n(21),n(563),n(564),n(219),n(386),n(546)),s=n.n(a);function l(e,t,n){return e.reduce((function(e,r,i){if(!r[n])return console.log("---------warn-------","key:".concat(n," undefined in tree item")),e;if(r[t]){var o=r[t];return e[r[n]]=r,Object.assign(e,l(o,t,n))}return e[r[n]]=r,e}),{})}function c(e,t,n){var r={};return e.forEach((function(e,i){if(e[t]){var a=e[t];r=Object(o.a)(Object(o.a)({},r),l(a,t,n))}else e[n]?r[e[n]]=e:console.warn("---------warn-------","key:".concat(n," undefined in tree item"))})),r}function u(e,t){return e.reduce((function(e,t){return e[t.id]=t,e}),{})}function _(e,t){return function(e,t){e instanceof Date||(e=new Date);t||(t="yyyy-MM-dd hh:mm:ss");return function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t}(e,t)}(new Date(e),t)}function d(e){return JSON.parse(JSON.stringify(e))}function f(e){var t={};return function e(n,r){var i=Object.prototype.toString;if("[object Object]"===i.call(n)){var o=!0;for(var a in n)o=!1,e(n[a],r?r+"."+a:a);o&&r&&(t[r]={})}else if("[object Array]"===i.call(n)){n.length>0?n.forEach((function(t,n){e(t,r?r+".["+n+"]":n)})):t[r]=[]}else t[r]=n}(e,""),t}function p(e){return null==e}function m(e){return"number"==typeof e&&isFinite(e)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e,i=new Blob([r]);if("download"in document.createElement("a")){var o=document.createElement("a");o.download=t+n,o.style.display="none",o.href=URL.createObjectURL(i),document.body.appendChild(o),o.click(),URL.revokeObjectURL(o.href),document.body.removeChild(o)}else navigator.msSaveBlob(i,t+n)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.childrenKey,r=void 0===n?"children":n,i=t.noChildren,o=void 0===i||i,a=[];return a.push(e),e[r]&&e[r].length&&function e(t){t.forEach((function(t){a.push(t),t[r]&&t[r].length&&e(t[r]),o&&delete t[r]}))}(e[r]),a.length&&o&&delete a[0][r],a}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.childrenKey,a=void 0===r?"children":r,s=n.noChildren,l=void 0===s||s,c=n.addLevel,u=void 0===c||c,_=n.routeSumPath,d=void 0!==_&&_,f=[],p=1,m="",j=regeneratorRuntime.mark((function e(t,n,r){var i,s,c;return regeneratorRuntime.wrap((function(_){for(;;)switch(_.prev=_.next){case 0:i=0;case 1:if(!(i<t.length)){_.next=14;break}return s=t[i],c=Object(o.a)({},t[i]),l&&delete c[a],u&&(c.$level=n),d&&c.path&&(c.path.startsWith("/")?c.$sumPath=r+c.path:c.$sumPath=r+"/".concat(c.path)),_.next=9,c;case 9:if(!s[a]||!s[a].length){_.next=11;break}return _.delegateYield(e(s[a],n+1,s.path),"t0",11);case 11:i++,_.next=1;break;case 14:case"end":return _.stop()}}),e)})),b=j(e,p,m),h=Object(i.a)(b);try{for(h.s();!(t=h.n()).done;){var g=t.value;f.push(g)}}catch(e){h.e(e)}finally{h.f()}return f}function g(e){return null!=e}function v(e){return Object.prototype.toString.call(e).toLowerCase().replace(/^\[object\s(\w+)\]$/,(function(){return arguments.length<=1?void 0:arguments[1]}))}var y=s.a.Random;function O(e){var t={};return e.forEach((function(e){switch(e.type){case"FormDate":t[e.key+"|1"]="@date";break;case"FormDateTime":t[e.key+"|1"]="@datetime";break;case"FormRadio":case"FormSelect":t[e.key+"|1"]=y.integer(0,3);break;case"FormIntNumber":t[e.key+"|1-100"]=1;break;case"FormDecimalNumber":t[e.key+"|1-100.1-3"]=1;break;default:t[e.key+"|1"]="@cword"}})),t}function E(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.a.mock((t={},Object(r.a)(t,"list|"+n,[O(e)]),Object(r.a)(t,"totalCount",20),t))}},548:function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(103),a=n(73),s=n(29),l=n(18),c=n(138),u=n(50),_=n(75)("splice"),d=i.TypeError,f=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!_},{splice:function(e,t){var n,r,i,_,m,j,b=l(this),h=s(b),g=o(e,h),v=arguments.length;if(0===v?n=r=0:1===v?(n=0,r=h-g):(n=v-2,r=p(f(a(t),0),h-g)),h+n-r>9007199254740991)throw d("Maximum allowed length exceeded");for(i=c(b,r),_=0;_<r;_++)(m=g+_)in b&&u(i,_,b[m]);if(i.length=r,n<r){for(_=g;_<h-r;_++)j=_+n,(m=_+r)in b?b[j]=b[m]:delete b[j];for(_=h;_>h-r+n;_--)delete b[_-1]}else if(n>r)for(_=h-r;_>g;_--)j=_+n-1,(m=_+r-1)in b?b[j]=b[m]:delete b[j];for(_=0;_<n;_++)b[_+g]=arguments[_+2];return b.length=h-r+n,i}})},549:function(e,t,n){"use strict";n(9);t.a=[{key:"keyWord",type:"FormInput",label:"关键字",searchable:!0},{key:"sciName",type:"FormInput",label:"学名",formOption:{properties:{disabled:!0}},tableOption:{sort:2}},{key:"latinSciName",type:"FormInput",label:"拉丁学名",formOption:{properties:{disabled:!0}}},{key:"originalTreeNumber",type:"FormInput",label:"原实体编号",formOption:{}},{key:"investNumber",type:"FormIntNumber",label:"调查顺序号",formOption:{}},{key:"ownership",type:"FormSelect",options:[{value:1,label:"11"},{value:2,label:"22"}],label:"属性",tableOption:{sort:3},formOption:{valueLink:{"@*any*@":[{linkKey:"ownership2",linkValue:function(e){return console.log("-------data-------",e),e+1},linkDisable:!1}]}}},{key:"ownership1",type:"FormSelect",label:"属性1",options:[{value:1,label:"11"},{value:2,label:"22"},{value:3,label:"33"},{value:4,label:"44"}],formOption:{properties:{value:"2*(${ownership}||0)"}},tableOption:{sort:3}},{key:"ownership2",type:"FormDynamicSelect",label:"属性2",formSection:"權益信息",options:{key:"id",value:"value",label:"label",apiPromise:function(){return Promise.resolve([{value:1,label:"11",id:1},{value:2,label:"22",id:2}])}},tableOption:{sort:3},formable:!0}]},550:function(e,t,n){"use strict";n(536)},553:function(e,t,n){},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){"use strict";n.r(t);var r={name:"apiSchemLoader",components:{},data:function(){return{editorOptions:{selectOnLineNumbers:!1,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,glyphMargin:!0},language:"javascript",data:{title:"",code:""},dialogVisible:!1}},watch:{},methods:{confirm:function(){this.data.code=this.$refs.moEditor.editor.getValue(),this.$emit("loaded",this.data)},openDialog:function(){this.dialogVisible=!0},close:function(){this.dialogVisible=!1}}},i=(n(550),n(26)),o=Object(i.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"  relative  page-container"},[n("el-button",{attrs:{icon:"el-icon-sort",type:"primary",circle:""},on:{click:e.openDialog}}),e._v(" "),n("el-dialog",{staticClass:"hz-low-code",attrs:{visible:e.dialogVisible,"append-to-body":!0,title:"导入接口Json"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}}),e._v(" "),n("MonacoEditor",{ref:"moEditor",staticClass:"editor-content mt12",attrs:{code:this.data.code,language:e.language,changeThrottle:1e3,editorOptions:e.editorOptions}}),e._v(" "),n("el-button",{staticClass:"mt12",attrs:{type:"primary"},on:{click:e.confirm}},[e._v("导入")])],1)],1)}),[],!1,null,"6e74639c",null);t.default=o.exports},565:function(e,t,n){var r={"./af":401,"./af.js":401,"./ar":402,"./ar-dz":403,"./ar-dz.js":403,"./ar-kw":404,"./ar-kw.js":404,"./ar-ly":405,"./ar-ly.js":405,"./ar-ma":406,"./ar-ma.js":406,"./ar-sa":407,"./ar-sa.js":407,"./ar-tn":408,"./ar-tn.js":408,"./ar.js":402,"./az":409,"./az.js":409,"./be":410,"./be.js":410,"./bg":411,"./bg.js":411,"./bm":412,"./bm.js":412,"./bn":413,"./bn-bd":414,"./bn-bd.js":414,"./bn.js":413,"./bo":415,"./bo.js":415,"./br":416,"./br.js":416,"./bs":417,"./bs.js":417,"./ca":418,"./ca.js":418,"./cs":419,"./cs.js":419,"./cv":420,"./cv.js":420,"./cy":421,"./cy.js":421,"./da":422,"./da.js":422,"./de":423,"./de-at":424,"./de-at.js":424,"./de-ch":425,"./de-ch.js":425,"./de.js":423,"./dv":426,"./dv.js":426,"./el":427,"./el.js":427,"./en-au":428,"./en-au.js":428,"./en-ca":429,"./en-ca.js":429,"./en-gb":430,"./en-gb.js":430,"./en-ie":431,"./en-ie.js":431,"./en-il":432,"./en-il.js":432,"./en-in":433,"./en-in.js":433,"./en-nz":434,"./en-nz.js":434,"./en-sg":435,"./en-sg.js":435,"./eo":436,"./eo.js":436,"./es":437,"./es-do":438,"./es-do.js":438,"./es-mx":439,"./es-mx.js":439,"./es-us":440,"./es-us.js":440,"./es.js":437,"./et":441,"./et.js":441,"./eu":442,"./eu.js":442,"./fa":443,"./fa.js":443,"./fi":444,"./fi.js":444,"./fil":445,"./fil.js":445,"./fo":446,"./fo.js":446,"./fr":447,"./fr-ca":448,"./fr-ca.js":448,"./fr-ch":449,"./fr-ch.js":449,"./fr.js":447,"./fy":450,"./fy.js":450,"./ga":451,"./ga.js":451,"./gd":452,"./gd.js":452,"./gl":453,"./gl.js":453,"./gom-deva":454,"./gom-deva.js":454,"./gom-latn":455,"./gom-latn.js":455,"./gu":456,"./gu.js":456,"./he":457,"./he.js":457,"./hi":458,"./hi.js":458,"./hr":459,"./hr.js":459,"./hu":460,"./hu.js":460,"./hy-am":461,"./hy-am.js":461,"./id":462,"./id.js":462,"./is":463,"./is.js":463,"./it":464,"./it-ch":465,"./it-ch.js":465,"./it.js":464,"./ja":466,"./ja.js":466,"./jv":467,"./jv.js":467,"./ka":468,"./ka.js":468,"./kk":469,"./kk.js":469,"./km":470,"./km.js":470,"./kn":471,"./kn.js":471,"./ko":472,"./ko.js":472,"./ku":473,"./ku.js":473,"./ky":474,"./ky.js":474,"./lb":475,"./lb.js":475,"./lo":476,"./lo.js":476,"./lt":477,"./lt.js":477,"./lv":478,"./lv.js":478,"./me":479,"./me.js":479,"./mi":480,"./mi.js":480,"./mk":481,"./mk.js":481,"./ml":482,"./ml.js":482,"./mn":483,"./mn.js":483,"./mr":484,"./mr.js":484,"./ms":485,"./ms-my":486,"./ms-my.js":486,"./ms.js":485,"./mt":487,"./mt.js":487,"./my":488,"./my.js":488,"./nb":489,"./nb.js":489,"./ne":490,"./ne.js":490,"./nl":491,"./nl-be":492,"./nl-be.js":492,"./nl.js":491,"./nn":493,"./nn.js":493,"./oc-lnc":494,"./oc-lnc.js":494,"./pa-in":495,"./pa-in.js":495,"./pl":496,"./pl.js":496,"./pt":497,"./pt-br":498,"./pt-br.js":498,"./pt.js":497,"./ro":499,"./ro.js":499,"./ru":500,"./ru.js":500,"./sd":501,"./sd.js":501,"./se":502,"./se.js":502,"./si":503,"./si.js":503,"./sk":504,"./sk.js":504,"./sl":505,"./sl.js":505,"./sq":506,"./sq.js":506,"./sr":507,"./sr-cyrl":508,"./sr-cyrl.js":508,"./sr.js":507,"./ss":509,"./ss.js":509,"./sv":510,"./sv.js":510,"./sw":511,"./sw.js":511,"./ta":512,"./ta.js":512,"./te":513,"./te.js":513,"./tet":514,"./tet.js":514,"./tg":515,"./tg.js":515,"./th":516,"./th.js":516,"./tk":517,"./tk.js":517,"./tl-ph":518,"./tl-ph.js":518,"./tlh":519,"./tlh.js":519,"./tr":520,"./tr.js":520,"./tzl":521,"./tzl.js":521,"./tzm":522,"./tzm-latn":523,"./tzm-latn.js":523,"./tzm.js":522,"./ug-cn":524,"./ug-cn.js":524,"./uk":525,"./uk.js":525,"./ur":526,"./ur.js":526,"./uz":527,"./uz-latn":528,"./uz-latn.js":528,"./uz.js":527,"./vi":529,"./vi.js":529,"./x-pseudo":530,"./x-pseudo.js":530,"./yo":531,"./yo.js":531,"./zh-cn":532,"./zh-cn.js":532,"./zh-hk":533,"./zh-hk.js":533,"./zh-mo":534,"./zh-mo.js":534,"./zh-tw":535,"./zh-tw.js":535};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=565},582:function(e,t,n){"use strict";n(553)},583:function(e,t,n){"use strict";n(554)},584:function(e,t,n){"use strict";n(555)},636:function(e,t,n){"use strict";n.r(t);n(134),n(33),n(400),n(9),n(396),n(216),n(548),n(31),n(222),n(227),n(74);var r=n(556),i=n(549),o={searchOption:{},treeOption:{},listOption:{lineActions:{update:{},detail:{}}},topToolBar:{}};function a(e){return JSON.stringify(e,(function(e,t){return"function"==typeof t?t.toString():t}),"\t")}var s={name:"pageBuilder",components:{apiSchemLoader:r.default},data:function(){return{fieldsContent:a(i.a),pageConfig:a(o),current:"1",editorOptions:{selectOnLineNumbers:!1,roundedSelection:!1,readOnly:!1,cursorStyle:"line",automaticLayout:!0,glyphMargin:!0},language:"javascript"}},mounted:function(){var e=this;new ResizeObserver((function(t){var n,r;e.$refs.fieldsEditor&&(null===(n=e.$refs.fieldsEditor.editor)||void 0===n||n.layout()),e.$refs.pageEditor&&(null===(r=e.$refs.pageEditor.editor)||void 0===r||r.layout())})).observe(document.querySelector("#left-section"))},methods:{editorMounted:function(e,t){this.$refs.fieldsEditor.monaco.languages.registerCompletionItemProvider(this.language,{triggerCharacters:["ds.","."],provideCompletionItems:function(e,t){var n=t.lineNumber,r=t.column,i=e.getValueInRange({startLineNumber:n,startColumn:0,endLineNumber:n,endColumn:r});return console.log("---textBeforePointer---",i),i=i.split(" ").splice(-1).join(""),["dyna"].includes(i)?{suggestions:[{label:'connection("")',detail:"说明",insertText:'connection("")',kind:6},{label:'query("","")',detail:"说明1",insertText:'query("","")',kind:7}]}:['ds.connection("").'].includes(i)?{suggestions:[{label:'query("")',insertText:'query("")'}]}:void 0}})},onfieldsContentChange:function(e){var t=e.getValue();this.$refs.previewIframe.contentWindow.postMessage({origin:"jsEditor",type:"fields",content:t},"*")},onpageConfigChange:function(e){var t=e.getValue();this.$refs.previewIframe.contentWindow.postMessage({origin:"jsEditor",type:"page",content:t},"*")},transApiSchem:function(e){try{if(e.code){var t=JSON.parse(e.code),n=[{key:"keyword",label:"关键字",searchable:!0},{key:"index",type:"index",label:"序号",tableable:!0}];for(var r in t){var i={key:r,label:"label"+r.slice(0,8),type:"FormInput",formOption:{},tableOption:{}};n.push(i)}this.fieldsContent=JSON.stringify(n,null,"\t"),this.$refs.fieldsEditor&&this.$refs.fieldsEditor.editor.setValue(this.fieldsContent)}if(e.title){var o=JSON.parse(this.pageConfig);o.title=e.title,this.pageConfig=JSON.stringify(o)}this.$refs.schemLoader.close()}catch(e){this.$alert("解析数据失败:"+e)}}}},l=(n(583),n(26)),c=Object(l.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"hz-low-code relative  page-container"},[n("div",{staticClass:"flex  full-height"},[n("section",{ref:"leftSection",staticClass:"relative width30 full-height border-r over-scroll",attrs:{id:"left-section"}},[n("el-tabs",{staticClass:"flex flex-direction full-height",attrs:{type:"card "},model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[n("el-tab-pane",{key:"1",staticClass:"full-height",attrs:{label:"字段配置",name:"1"}},[n("MonacoEditor",{directives:[{name:"show",rawName:"v-show",value:"1"==e.current,expression:"current=='1'"}],ref:"fieldsEditor",staticClass:"editor-content ",attrs:{code:e.fieldsContent,language:e.language,changeThrottle:500,editorOptions:e.editorOptions},on:{mounted:e.editorMounted,codeChange:e.onfieldsContentChange}})],1),e._v(" "),n("el-tab-pane",{key:"2",attrs:{label:"页面管理",name:"2"}},["2"==e.current?n("MonacoEditor",{ref:"pageEditor",staticClass:"editor-content ",attrs:{code:e.pageConfig,language:e.language,changeThrottle:500,editorOptions:e.editorOptions},on:{codeChange:e.onpageConfigChange}}):e._e()],1)],1),e._v(" "),n("apiSchemLoader",{ref:"schemLoader",staticClass:"absolute top48 left16",on:{loaded:e.transApiSchem}})],1),e._v(" "),n("div",{directives:[{name:"resize",rawName:"v-resize"}],staticClass:"resize"}),e._v(" "),n("iframe",{ref:"previewIframe",staticClass:"full-height flex1 frame-container",attrs:{src:e.$site.base+"pageBuilder/preview.html",frameborder:"0"}})])])}),[],!1,null,"22db0f17",null);t.default=c.exports},637:function(e,t,n){"use strict";n.r(t);var r={name:"baseInfoLoader",components:{},data:function(){return{}},watch:{}},i=n(26),o=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("main",{staticClass:"  relative  page-container"})}),[],!1,null,"423fcc29",null);t.default=o.exports},638:function(e,t,n){"use strict";n.r(t);n(557),n(9);var r=n(387),i=n.n(r),o=(n(616),n(617),n(551),n(547),n(552),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),window.CodeMirror||i.a),a={name:"jsEditor",props:{value:String,language:{type:String,default:null}},data:function(){return{code:"",mode:"javascript",coder:null,options:{tabSize:2,theme:"juejin",lineNumbers:!0,line:!0},modes:[{value:"css",label:"CSS"},{value:"javascript",label:"Javascript"},{value:"html",label:"XML/HTML"},{value:"x-java",label:"Java"},{value:"x-objectivec",label:"Objective-C"},{value:"x-python",label:"Python"},{value:"x-rsrc",label:"R"},{value:"x-sh",label:"Shell"},{value:"x-sql",label:"SQL"},{value:"x-swift",label:"Swift"},{value:"x-vue",label:"Vue"},{value:"markdown",label:"Markdown"}]}},mounted:function(){this._initialize()},methods:{_initialize:function(){var e=this;if(this.coder=o.fromTextArea(this.$refs.textarea,this.options),this.coder.setValue(this.value||this.code),this.coder.on("change",(function(t){e.code=t.getValue(),e.$emit&&e.$emit("input",e.code)})),this.language){var t=this._getLanguage(this.language);t&&(this.mode=t.label)}},_getLanguage:function(e){return this.modes.find((function(t){var n=e.toLowerCase(),r=t.label.toLowerCase(),i=t.value.toLowerCase();return r===n||i===n}))},changeMode:function(e){this.coder.setOption("mode","text/".concat(e));var t=this._getLanguage(e).label.toLowerCase();this.$emit("language-change",t)}}},s=(n(582),n(26)),l=Object(s.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"in-coder-panel"},[t("textarea",{ref:"textarea"})])}),[],!1,null,null,null);t.default=l.exports},640:function(e,t,n){"use strict";n.r(t);var r=n(542).a,i=(n(584),n(26)),o=Object(i.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("DynamicCurdPage",{staticClass:"page-wraper",attrs:{entityLabel:this.entityLabel,fields:this.fields,pageOptionsprops:this.pageOptions,apiPromises:this.apiPromises}})}),[],!1,null,"7727dcaa",null);t.default=o.exports},709:function(e,t,n){var r={"./components/apiSchemLoader.vue":556,"./components/baseInfoLoader.vue":637,"./components/jsEditorCodemirror.vue":638,"./pageBuilder.vue":636,"./pagePreview.vue":640};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=709},756:function(e,t,n){"use strict";n.r(t),n.d(t,"components",(function(){return i}));n(127),n(9),n(128),n(21),n(31),n(99),n(19);var r=n(709),i={};r.keys().forEach((function(e){var t=e.replace(/.*\/(\w*)\.vue$/,"$1"),n=r(e).default;i[t]=n})),t.default={install:function(e){if(!this.install.installed){for(var t in this.install.installed=!0,i)e.component(t,i[t]);n.e(11).then(n.t.bind(null,733,7)).then((function(t){var n=t.default;e.component("MonacoEditor",n)}))}}}}}]);