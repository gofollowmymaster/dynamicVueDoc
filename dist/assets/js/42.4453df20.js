(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{412:function(e,t,a){var n=a(2),i=a(239).values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},609:function(e,t,a){},672:function(e,t,a){"use strict";a(609)},739:function(e,t,a){"use strict";a.r(t);a(116);var n=a(47),i=a(48),r=a(150),c=(a(109),a(8),a(110),a(113),a(153),a(233),a(412),a(44)),o=a(565),u=a.n(o);u.a.Random;var l=0,m=1,y=2,d=function(){function e(t){Object(n.a)(this,e),Object(r.a)(this,"DataType",l),Object(r.a)(this,"exceptOutLimitKeys",[]),Object(r.a)(this,"customizeFn",{}),this.formIns=t}return Object(i.a)(e,[{key:"setDataType",value:function(e){"standard"===e?this.DataType=l:"border"===e?this.DataType=m:"outlimit"===e&&(this.DataType=y)}},{key:"makeValue",value:function(){var e=this,t=this.formIns.formItemList,a={};return t.forEach((function(t){t.children instanceof Array&&t.children.forEach((function(t){var n=t.key;if(e.customizeFn[n]){if("function"!=typeof e.customizeFn[n])return console.error("字段：".concat(n,"，描述：").concat(label,"，其传入自定义校验配置，但配置不是函数，请检查"));a[n]=e.customizeFn[n](e.DataType)}["FormTextarea","FormInput"].includes(t.type)?a[t.key]=e.makeInputValue(t):["FormSelect","FormRadio","FormMulSelect"].includes(t.type)?a[t.key]=e.makeSelectRadioValue(t):["FormIntNumber","FormDecimalNumber"].includes(t.type)?a[t.key]=e.makeNumberValue(t):["FormDynamicSelect"].includes(t.type)?a[t.key]=e.makeDynamicSelectValue(t)||"1":a[t.key]=u.a.mock("@date")}))})),a}},{key:"loadRules",value:function(e){var t,a,n,i,r=e.rules;return r&&r.length>0&&r.forEach((function(e){e.required?n=!0:(e.max&&(t=e.max),e.min&&(a=e.min),e.type&&(i=e.type))})),{max:t,min:a,required:n,type:i}}},{key:"makeInputValue",value:function(e){var t=e.key,a=e.label,n=(e.rules,this.loadRules(e)),i=n.max,r=n.min,c=n.required;n.type;if(this.DataType===y&&-1===this.exceptOutLimitKeys.indexOf(t)){var o="".concat(a);return i?o=u.a.mock("@word(".concat(i+1,")")):r?o=u.a.mock("@word(".concat(i-1,")")):c?o="":console.error("字段：".concat(t,"，描述：").concat(a,"，无法生成符合超限数据，请检查 fields 的配置。默认使用 label 作为数据")),o}if(this.DataType===m){"".concat(a);return i?u.a.mock("@word(".concat(i,")")):r?u.a.mock("@word(".concat(r,")")):c?"".concat(a):""}return r=r||1,i=i||10,s=u.a.mock("@word(".concat(r,", ").concat(i,")")),s}},{key:"makeSelectRadioValue",value:function(e){var t,a=e.key,n=(e.label,e.options),i=this.loadRules(e).required;return this.DataType===y&&-1===this.exceptOutLimitKeys.indexOf(a)?t=i?n[0].value:"":(t=n[Math.floor(Math.random()*n.length)].value,"FormMulSelect"===e.type&&(t=[t]),t)}},{key:"makeDynamicSelectValue",value:function(e){var t,a=this.formIns.$refs[e.key][0],n=Object.values(a.dynamicDict).length,i=Object(c.j)(n-1),r=null===(t=Object.values(a.dynamicDict)[i])||void 0===t?void 0:t[a.dictKey],o=a.dynamicDict[r];return null==o?void 0:o[a.dictValue]}},{key:"makeNumberValue",value:function(e){var t=e.key,a=e.label,n=(e.rules,this.loadRules(e)),i=n.max,r=n.min,c=n.required;if(this.DataType===y&&-1===this.exceptOutLimitKeys.indexOf(t)){var o="".concat(a);return i?o=i+1:r?o=r-1:c?o=null:console.error("字段：".concat(t,"，描述：").concat(a,"，无法生成符合超限数据，请检查 fields 的配置。默认使用 label 作为数据")),o}if(this.DataType===m){"".concat(a);return i||(r||1)}return i&&r?(i+r)/2:i?i-1:r?r+1:Math.floor(100*Math.random())}}]),e}(),f={name:"TestTool",props:{customizeFn:{type:Object,default:function(){return{}}},exceptOutLimitKeys:{type:Array,default:function(){return[]}},fields:{type:Array,default:function(){return[]}}},created:function(){"DynamicFormContent"!==this.$parent.$options.name&&console.error("获取表单示例失败!表单测试数据填充器必须包裹在DynamicFormContent内"),this.TestValueCreator=new d(this.$parent)},data:function(){return{TestValueCreator:null,dataStatus:"standard"}},methods:{makeTestData:function(){this.TestValueCreator.setDataType(this.dataStatus),this.TestValueCreator.customizeFn=this.customizeFn,this.TestValueCreator.exceptOutLimitKeys=this.exceptOutLimitKeys;var e=this.TestValueCreator.makeValue();console.table(e),this.$parent.updateFormData(e)}}},h=(a(672),a(33)),p=Object(h.a)(f,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex  align-center",attrs:{id:"test-tools"}},[t("el-button",{attrs:{size:"mini"},on:{click:this.makeTestData}},[this._v("生成测试数据")])],1)}),[],!1,null,"15ff6cee",null);t.default=p.exports}}]);