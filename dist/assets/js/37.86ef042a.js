(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{415:function(e,t,n){var a=n(2),l=n(245).values;a({target:"Object",stat:!0},{values:function(e){return l(e)}})},596:function(e,t,n){},665:function(e,t,n){"use strict";n(596)},766:function(e,t,n){"use strict";n.r(t);var a=n(5),l=(n(11),n(84),n(37),n(415),n(117),n(82),n(83),n(17)),i={name:"DanamicTable",props:{data:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},table:{type:Object,default:function(){return Object(l.p)("tableOption")}},apiPromise:{type:Promise,default:function(){return null}},selected:{type:[Object],default:function(){return{}}}},data:function(){return{tableData:[]}},computed:{columnsComputed:function(){var e=this.columns.map((function(e){var t;return Object(a.a)(Object(a.a)({},e),{},{tableOption:Object(a.a)(Object(a.a)({},e.tableOption),{},{label:(null===(t=e.tableOption)||void 0===t?void 0:t.label)||e.label})})}));if(this.table.hasCheckbox&&e.unshift({key:"selection",type:"selection",tableOption:{width:40}}),this.table.lineActions){var t=Object.values(this.table.lineActions).filter((function(e){return e.component}));e.push({type:"lineActions",key:"lineActions",tableOption:{width:this.table.lineActions.width||80*t.length,label:"操作",fixed:"right"},actions:this.table.lineActions})}return e}},watch:{apiPromise:{handler:function(e){var t=this;e instanceof Promise&&e.then((function(e){Array.isArray(e)&&(t.tableData=e)}))},deep:!0,immediate:!0},tableData:{handler:function(e){var t=this;this.$nextTick((function(){t.$refs.table.doLayout(),t.selectRefresh()}))},deep:!0,immediate:!0},selected:{handler:function(e){this.selectRefresh(e)},deep:!0,immediate:!0},data:{handler:function(e){Array.isArray(e)&&(this.tableData=e)},deep:!0,immediate:!0}},mounted:function(){},components:{},methods:{selectRefresh:function(){var e=this;this.$nextTick((function(){var t=e.table.properties["row-key"];e.tableData.forEach((function(n){e.selected[n[t]]?e.$refs.table.toggleRowSelection(n,!0):e.$refs.table.toggleRowSelection(n,!1)}))}))},indexHandle:function(e){return e+1}}},o=(n(665),n(36)),c=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"dynamic-table-container"},[n("el-table",e._g(e._b({ref:"table",attrs:{data:e.tableData}},"el-table",e.table.properties,!1),e.$listeners),[e._l(e.columnsComputed,(function(t){return["index"==t.type?n("el-table-column",e._b({key:t.key,attrs:{type:"index",index:e.indexHandle}},"el-table-column",Object.assign({},t.tableOption),!1)):"selection"==t.type?n("el-table-column",e._b({key:t.key,attrs:{type:"selection","reserve-selection":!0}},"el-table-column",Object.assign({},t.tableOption),!1)):"lineActions"==t.type?n("el-table-column",e._b({key:t.key,scopedSlots:e._u([{key:"default",fn:function(a){return[n("DynamicActions",{attrs:{actions:t.actions,actionData:a.row,actionBarWraper:e.$parent.$el}})]}}],null,!0)},"el-table-column",Object.assign({},e.table.colOptions,t.tableOption),!1)):n("el-table-column",e._b({key:t.key,attrs:{prop:t.key},scopedSlots:e._u([{key:"default",fn:function(e){return[t.tableOption.template&&t.tableOption.template(e.row,t.key)&&t.tableOption.template(e.row,t.key).component?n(t.tableOption.template(e.row,t.key).component,{tag:"component",attrs:{rowData:e.row,field:t.key,item:t.tableOption.template(e.row,t.key),colOptions:t}}):n("ColTeml",{attrs:{rowData:e.row,field:t.key,colOptions:t}})]}}],null,!0)},"el-table-column",Object.assign({},e.table.colOptions,t.tableOption),!1))]}))],2)],1)}),[],!1,null,"7b1eea2a",null);t.default=c.exports}}]);